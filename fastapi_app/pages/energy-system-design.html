<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="msapplication-TileColor" content="#2b5797" />
    <meta name="theme-color" content="#ffffff" />
    <link
      href="{{ url_for('static', path='stylesheets/css/bootstrap.min.css') }} "
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', path='node_modules/aos/dist/aos.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', path='stylesheets/css/main.css') }}"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet-geosearch@3.0.0/dist/geosearch.css"
    />
    <title>Simulation Results</title>
  </head>
  <body
    onload="refreshBlocksOnDiagramOnLoad();check_box_visibility('shortage');"
  >
    <nav class="navbar navbar-expand-lg navbar-light bg-light navbar--scenario">
      <div class="container-fluid">
        <span class="navbar-brand">
          <img
            src="{{ url_for('static', path='assets/logos/peoplesun_logo.webp') }}"
            alt="peoplesun Logo"
          />
        </span>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item dropdown profile">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  src="{{ url_for('static', path='assets/icons/i_profile.svg') }}"
                  alt="Profile icon"
                />
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#">Use cases</a></li>
                <li><a class="dropdown-item" href="#">License</a></li>
                <li><a class="dropdown-item" href="about.html">Contact</a></li>
                <li>
                  <a class="dropdown-item" href="account_overview.html">Account</a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item" href="/" onclick="logout();">Log out</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="wizard">
      <div>
        <div class="wizard__steps">
          <ul>
            <li>
              <a href="{{ url_for('home') }}">Project Setup</a>
            </li>
            <li>
              <a href="{{ url_for('consumer_selection') }}"
                >Consumer Selection</a
              >
            </li>
            <li>Demand Estimation</li>
            <li>
              <a href="{{ url_for('grid_design') }}">Grid Design</a>
            </li>
            <li class="active">
              <a href="{{ url_for('energy_system_design') }}"
                >Energy System Design</a
              >
            </li>
            <li>
              <a href="{{ url_for('simulation_results') }}"
                >Simulation Results</a
              >
            </li>
          </ul>
        </div>
      </div>
    </section>

    <main>
      <section class="dashboard">
        <div>
          <div class="row">
            <div class="col-md-4">
              <div class="box" id="selectDieselGensetBox">
                <div class="box__header">
                  <form class="was-validated">
                    <div class="form-check">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        id="selectDieselGenset"
                        required
                        checked
                        onclick="check_box_visibility('dieselGenset');refreshBlocksOnDiagram('dieselGenset');"
                      />
                      <label class="form-check-label" for="selectDieselGenset"
                        >Diesel Genset</label
                      >
                    </div>
                  </form>
                </div>
                <div class="row align-items-end">
                  <div class="col-5">
                    <div class="btn-group d-flex">
                      <input
                        type="radio"
                        class="btn-check"
                        name="dieselGensetOptimizationStrategy"
                        id="dieselGensetDesign"
                        autocomplete="off"
                        onclick="check_optimization_strategy('dieselGenset');"
                        checked
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="dieselGensetDesign"
                        >Design</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        name="dieselGensetOptimizationStrategy"
                        id="dieselGensetDispatch"
                        autocomplete="off"
                        onclick="check_optimization_strategy('dieselGenset');"
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="dieselGensetDispatch"
                        >Dispatch</label
                      >
                    </div>
                  </div>
                  <div class="col-7">
                    <div class="input-group">
                      <span
                        id="lblDieselGensetNominalCapacity"
                        class="input-group-text"
                        >Capacity</span
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="dieselGensetNominalCapacity"
                        value="8"
                        required
                        disabled
                        onChange="styleInformation('dieselGenset');"
                      />
                      <span
                        id="dieselGensetNominalCapacityUnit"
                        class="input-group-text"
                        >kW</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetLifetime" class="input-group-text"
                      >Lifetime</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetLifetime"
                      value="8"
                      required
                    />
                    <span id="dieselGensetLifetimeUnit" class="input-group-text"
                      >Year</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetCapex" class="input-group-text"
                      >CAPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetCapex"
                      value="350"
                      required
                    />
                    <span id="dieselGensetCapexUnit" class="input-group-text"
                      >USD/kW</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetOpex" class="input-group-text"
                      >OPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetOpex"
                      value="25"
                      required
                    />
                    <span id="dieselGensetOpexUnit" class="input-group-text"
                      >USD/kW.a</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span
                      id="lblDieselGensetVariableCost"
                      class="input-group-text"
                      >Variable Cost</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetVariableCost"
                      value="0.045"
                      required
                    />
                    <span
                      id="dieselGensetVariableCostUnit"
                      class="input-group-text"
                      >USD/kWh</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetFuelCost" class="input-group-text"
                      >Fuel Cost</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetFuelCost"
                      placeholder="Fuel cost"
                      value="1.214"
                      required
                    />
                    <span id="dieselGensetFuelCostUnit" class="input-group-text"
                      >USD/L</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetFuelLhv" class="input-group-text"
                      >Fuel LHV</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetFuelLhv"
                      placeholder="LHV"
                      value="11.83"
                      required
                    />
                    <span id="dieselGensetFuelLhvUnit" class="input-group-text"
                      >kWh/kg</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span
                      id="lblDieselGensetMinEfficiency"
                      class="input-group-text"
                      >Minimum Efficiency</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetMinEfficiency"
                      value="22"
                      required
                    />
                    <span
                      id="dieselGensetMinEfficiencyUnit"
                      class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span
                      id="lblDieselGensetMaxEfficiency"
                      class="input-group-text"
                      >Maximum Efficiency</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetMaxEfficiency"
                      value="30"
                      required
                    />
                    <span
                      id="dieselGensetMaxEfficiencyUnit"
                      class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetMinLoad" class="input-group-text"
                      >Minimum Load</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetMinLoad"
                      value="20"
                      required
                    />
                    <span id="dieselGensetMinLoadUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblDieselGensetMaxLoad" class="input-group-text"
                      >Maximum Load</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dieselGensetMaxLoad"
                      value="100"
                      required
                    />
                    <span id="dieselGensetMaxLoadUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-8">
              <div class="chart">
                <div class="chart__header">
                  <div>
                    <span class="title"
                      >Schematic of the Selected Off-Grid System</span
                    >
                  </div>
                </div>
                <svg id="blockDiagram" width="850" height="450">
                  <!-- DEMAND -->
                  <g id="groupDemand" visibility="hidden">
                    <g>
                      <line id="lineDemand"></line>
                      <polyline id="arrowOutDemand"></polyline>
                      <polyline id="arrowInDemand"></polyline>
                    </g>
                    <rect id="blockDemand" />
                    <text
                      id="textDemand"
                      class="components-text--design"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Demand
                    </text>
                    <text id="informationDemand" dominant-baseline="bottom">
                      100% covered
                    </text>
                  </g>
                  <!-- SHORTAGE -->
                  <g id="groupShortage" visibility="hidden">
                    <g>
                      <line id="lineShortage"></line>
                      <polyline id="arrowOutShortage"></polyline>
                      <polyline id="arrowInShortage"></polyline>
                    </g>
                    <rect id="blockShortage" />
                    <text
                      id="textShortage"
                      class="components-text--design"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Shortage
                    </text>
                    <text
                      id="informationShortage"
                      dominant-baseline="bottom"
                    ></text>
                    <text
                      id="informationShortageSecondLine"
                      dominant-baseline="bottom"
                    ></text>
                  </g>
                  <!-- SURPLUS -->
                  <g id="groupSurplus" visibility="hidden">
                    <g>
                      <line id="lineSurplus"></line>
                      <polyline id="arrowOutSurplus"></polyline>
                      <polyline id="arrowInSurplus"></polyline>
                    </g>
                    <rect id="blockSurplus" />
                    <text
                      id="textSurplus"
                      class="components-text--design"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Surplus
                    </text>
                    <text
                      id="informationSurplus"
                      dominant-baseline="bottom"
                    ></text>
                  </g>
                  <!-- PV -->
                  <g id="groupPv" visibility="hidden">
                    <g>
                      <line id="linePv"></line>
                      <polyline id="arrowOutPv"></polyline>
                      <polyline id="arrowInPv"></polyline>
                    </g>
                    <rect id="blockPv" />
                    <text
                      id="textPv"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      PV
                    </text>
                    <text id="informationPv" dominant-baseline="bottom">
                      design
                    </text>
                  </g>
                  <!-- BATTERY -->
                  <g id="groupBattery" visibility="hidden">
                    <g>
                      <line id="lineBattery"></line>
                      <polyline id="arrowOutBattery"></polyline>
                      <polyline id="arrowInBattery"></polyline>
                    </g>
                    <rect id="blockBattery" />
                    <text
                      id="textBattery"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Battery
                    </text>
                    <text id="informationBattery" dominant-baseline="bottom">
                      design
                    </text>
                  </g>
                  <!-- DIESEL GENSET -->
                  <g id="groupDieselGenset" visibility="hidden">
                    <g>
                      <line id="lineDieselGenset"></line>
                      <polyline id="arrowOutDieselGenset"></polyline>
                      <polyline id="arrowInDieselGenset"></polyline>
                    </g>
                    <rect id="blockDieselGenset" />
                    <text
                      id="textDieselGenset"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Diesel Genset
                    </text>
                    <text
                      id="informationDieselGenset"
                      dominant-baseline="bottom"
                    >
                      design
                    </text>
                  </g>
                  <!-- INVERTER -->
                  <g id="groupInverter" visibility="hidden">
                    <g>
                      <line id="lineInverter"></line>
                      <polyline id="arrowOutInverter"></polyline>
                      <polyline id="arrowInInverter"></polyline>
                      <line id="lineInverter2"></line>
                      <polyline id="arrowOutInverter2"></polyline>
                      <polyline id="arrowInInverter2"></polyline>
                    </g>
                    <rect id="blockInverter" />
                    <text
                      id="textInverter"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Inverter
                    </text>
                    <text id="informationInverter" dominant-baseline="bottom">
                      design
                    </text>
                  </g>
                  <!-- RECTIFIER -->
                  <g id="groupRectifier" visibility="hidden">
                    <g>
                      <line id="lineRectifier"></line>
                      <polyline id="arrowOutRectifier"></polyline>
                      <polyline id="arrowInRectifier"></polyline>
                      <line id="lineRectifier2"></line>
                      <polyline id="arrowOutRectifier2"></polyline>
                      <polyline id="arrowInRectifier2"></polyline>
                    </g>
                    <rect id="blockRectifier" />
                    <text
                      id="textRectifier"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      Rectifier
                    </text>
                    <text id="informationRectifier" dominant-baseline="bottom">
                      design
                    </text>
                  </g>
                  <!-- AC BUS -->
                  <g id="groupAcBus" visibility="hidden">
                    <rect id="blockAcBus" />
                    <text
                      id="textAcBus"
                      class="components-text--design"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      AC Bus
                    </text>
                  </g>
                  <!-- DC BUS -->
                  <g id="groupDcBus" visibility="hidden">
                    <rect id="blockDcBus" />
                    <text
                      id="textDcBus"
                      class="components-text--design"
                      dominant-baseline="middle"
                      text-anchor="middle"
                    >
                      DC Bus
                    </text>
                  </g>
                </svg>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="box" id="selectBatteryBox">
                <div class="box__header">
                  <form class="was-validated">
                    <div class="form-check">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        id="selectBattery"
                        required
                        checked
                        onclick="check_box_visibility('battery');refreshBlocksOnDiagram('battery');"
                      />
                      <label class="form-check-label" for="selectBattery"
                        >Battery</label
                      >
                    </div>
                  </form>
                </div>
                <div class="row align-items-end">
                  <div class="col-5">
                    <div class="btn-group d-flex">
                      <input
                        type="radio"
                        class="btn-check"
                        name="batteryOptimizationStrategy"
                        id="batteryDesign"
                        autocomplete="off"
                        onclick="check_optimization_strategy('battery');"
                        checked
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="batteryDesign"
                        >Design</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        name="batteryOptimizationStrategy"
                        id="batteryDispatch"
                        autocomplete="off"
                        onclick="check_optimization_strategy('battery');"
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="batteryDispatch"
                        >Dispatch</label
                      >
                    </div>
                  </div>
                  <div class="col-7">
                    <div class="input-group">
                      <span
                        id="lblBatteryNominalCapacity"
                        class="input-group-text"
                        >Capacity</span
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="batteryNominalCapacity"
                        value="7"
                        required
                        disabled
                        onChange="styleInformation('battery');"
                      />
                      <span
                        id="batteryNominalCapacityUnit"
                        class="input-group-text"
                        >kWh</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatteryLifetime" class="input-group-text"
                      >Lifetime</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batteryLifetime"
                      value="7"
                      required
                    />
                    <span id="batteryLifetimeUnit" class="input-group-text"
                      >Year</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatteryCapex" class="input-group-text"
                      >CAPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batteryCapex"
                      value="598"
                      required
                    />
                    <span id="batteryCapexUnit" class="input-group-text"
                      >USD/kWh</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatteryOpex" class="input-group-text"
                      >OPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batteryOpex"
                      value="24"
                      required
                    />
                    <span id="batteryOpexUnit" class="input-group-text"
                      >USD/kW.a</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatterySocMin" class="input-group-text"
                      >Minimum SOC</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batterySocMin"
                      value="30"
                      required
                    />
                    <span id="batterySocMinUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatterySocMax" class="input-group-text"
                      >Maximum SOC</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batterySocMax"
                      value="100"
                      required
                    />
                    <span id="batterySocMaxUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatteryCrateIn" class="input-group-text"
                      >C-Rate in</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batteryCrateIn"
                      value="1"
                      required
                    />
                    <span id="batteryCrateInUnit" class="input-group-text"
                      >-</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatteryCrateOut" class="input-group-text"
                      >C-Rate out</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batteryCrateOut"
                      value="1"
                      required
                    />
                    <span id="batteryCrateOutUnit" class="input-group-text"
                      >-</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblBatteryEfficiency" class="input-group-text"
                      >Roundtrip Efficiency</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="batteryEfficiency"
                      value="96"
                      required
                    />
                    <span id="batteryEfficiencyUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="box box--small" id="selectInverterBox">
                <div class="box__header">
                  <form class="was-validated">
                    <div class="form-check">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        id="selectInverter"
                        required
                        checked
                        onclick="check_box_visibility('inverter');refreshBlocksOnDiagram('inverter');"
                      />
                      <label class="form-check-label" for="selectInverter"
                        >Inverter</label
                      >
                    </div>
                  </form>
                </div>
                <div class="row align-items-end">
                  <div class="col-5">
                    <div class="btn-group d-flex">
                      <input
                        type="radio"
                        class="btn-check"
                        name="inverterOptimizationStrategy"
                        id="inverterDesign"
                        autocomplete="off"
                        onclick="check_optimization_strategy('inverter');"
                        checked
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="inverterDesign"
                        >Design</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        name="inverterOptimizationStrategy"
                        id="inverterDispatch"
                        autocomplete="off"
                        onclick="check_optimization_strategy('inverter');"
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="inverterDispatch"
                        >Dispatch</label
                      >
                    </div>
                  </div>
                  <div class="col-7">
                    <div class="input-group">
                      <span
                        id="lblInverterNominalCapacity"
                        class="input-group-text"
                        >Capacity</span
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="inverterNominalCapacity"
                        value="9"
                        required
                        disabled
                        onChange="styleInformation('inverter');"
                      />
                      <span
                        id="inverterNominalCapacityUnit"
                        class="input-group-text"
                        >kW</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblInverterLifetime" class="input-group-text"
                      >Lifetime</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="inverterLifetime"
                      value="15"
                      required
                    />
                    <span id="inverterLifetimeUnit" class="input-group-text"
                      >Year</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblInverterCapex" class="input-group-text"
                      >CAPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="inverterCapex"
                      value="450"
                      required
                    />
                    <span id="inverterCapexUnit" class="input-group-text"
                      >USD/kW</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblInverterOpex" class="input-group-text"
                      >OPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="inverterOpex"
                      value="0"
                      required
                    />
                    <span id="inverterOpexUnit" class="input-group-text"
                      >USD/kW.a</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblInverterEfficiency" class="input-group-text"
                      >Efficiency</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="inverterEfficiency"
                      value="95"
                      required
                    />
                    <span id="inverterEfficiencyUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
              </div>
              <div class="box box--small" id="selectRectifierBox">
                <div class="box__header">
                  <form class="was-validated">
                    <div class="form-check">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        id="selectRectifier"
                        required
                        checked
                        onclick="check_box_visibility('rectifier');refreshBlocksOnDiagram('rectifier');"
                      />
                      <label class="form-check-label" for="selectRectifier"
                        >Rectifier</label
                      >
                    </div>
                  </form>
                </div>
                <div class="row align-items-end">
                  <div class="col-5">
                    <div class="btn-group d-flex">
                      <input
                        type="radio"
                        class="btn-check"
                        name="rectifierOptimizationStrategy"
                        id="rectifierDesign"
                        autocomplete="off"
                        onclick="check_optimization_strategy('rectifier');"
                        checked
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="rectifierDesign"
                        >Design</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        name="rectifierOptimizationStrategy"
                        id="rectifierDispatch"
                        autocomplete="off"
                        onclick="check_optimization_strategy('rectifier');"
                      />
                      <label
                        class="btn btn-outline-secondary"
                        for="rectifierDispatch"
                        >Dispatch</label
                      >
                    </div>
                  </div>
                  <div class="col-7">
                    <div class="input-group">
                      <span
                        id="lblRectifierNominalCapacity"
                        class="input-group-text"
                        >Capacity</span
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="rectifierNominalCapacity"
                        value="5"
                        required
                        disabled
                        onChange="styleInformation('rectifier');"
                      />
                      <span
                        id="rectifierNominalCapacityUnit"
                        class="input-group-text"
                        >kW</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblRectifierLifetime" class="input-group-text"
                      >Lifetime</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="rectifierLifetime"
                      value="15"
                      required
                    />
                    <span id="rectifierLifetimeUnit" class="input-group-text"
                      >Year</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblRectifierCapex" class="input-group-text"
                      >CAPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="rectifierCapex"
                      value="450"
                      required
                    />
                    <span id="rectifierCapexUnit" class="input-group-text"
                      >USD/kW</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblRectifierOpex" class="input-group-text"
                      >OPEX</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="rectifierOpex"
                      value="0"
                      required
                    />
                    <span id="rectifierOpexUnit" class="input-group-text"
                      >USD/kW.a</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblRectifierEfficiency" class="input-group-text"
                      >Efficiency</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="rectifierEfficiency"
                      value="95"
                      required
                    />
                    <span id="rectifierEfficiencyUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="box box--medium" id="selectPvBox">
                <div class="box__header">
                  <form class="was-validated">
                    <div class="form-check">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        id="selectPv"
                        required
                        checked
                        onclick="check_box_visibility('pv');refreshBlocksOnDiagram('pv');"
                      />
                      <label class="form-check-label" for="selectPv">PV</label>
                    </div>
                  </form>
                </div>
                <div class="row align-items-end">
                  <div class="col-5">
                    <div class="btn-group d-flex">
                      <input
                        type="radio"
                        class="btn-check"
                        name="pvOptimizationStrategy"
                        id="pvDesign"
                        autocomplete="off"
                        onclick="check_optimization_strategy('pv');"
                        checked
                      />
                      <label class="btn btn-outline-secondary" for="pvDesign"
                        >Design</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        name="pvOptimizationStrategy"
                        id="pvDispatch"
                        autocomplete="off"
                        onclick="check_optimization_strategy('pv');"
                      />
                      <label class="btn btn-outline-secondary" for="pvDispatch"
                        >Dispatch</label
                      >
                    </div>
                  </div>
                  <div class="col-7">
                    <div class="input-group">
                      <span id="lblPvNominalCapacity" class="input-group-text"
                        >Capacity</span
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="pvNominalCapacity"
                        value="20"
                        required
                        disabled
                        onChange="styleInformation('pv');"
                      />
                      <span id="pvNominalCapacityUnit" class="input-group-text"
                        >kW</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblPvLifetime" class="input-group-text"
                      >Lifetime</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="pvLifetime"
                      value="25"
                      required
                    />
                    <span id="pvLifetimeUnit" class="input-group-text"
                      >Year</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblPvCapex" class="input-group-text">CAPEX</span>
                    <input
                      type="number"
                      class="form-control"
                      id="pvCapex"
                      value="883"
                      required
                    />
                    <span id="pvCapexUnit" class="input-group-text"
                      >USD/kW</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblPvOpex" class="input-group-text">OPEX</span>
                    <input
                      type="number"
                      class="form-control"
                      id="pvOpex"
                      value="14.4"
                      required
                    />
                    <span id="pvOpexUnit" class="input-group-text"
                      >USD/kW.a</span
                    >
                  </div>
                </div>
                <div class="row">
                  <label
                    id="lblPvFileImportSolarPotential"
                    for="fileImportSolarPotential"
                    class="form-label import-file"
                  >
                    PV potential (1-h resolution)
                    <span
                      class="icon icon-question"
                      data-bs-toggle="tooltip"
                      title="Annual data with one hour resolution representing the potential for electricity generation from solar PV assets."
                    >
                    </span>
                  </label>
                  <div class="input-group">
                    <input
                      type="file"
                      class="form-control"
                      id="pvFileImportSolarPotential"
                      accept=".xls, .xlsx, .csv"
                      disabled
                    />
                    <button
                      id="btnPvFileImportSolarPotential"
                      class="btn"
                      type="button"
                      onclick="import_data();"
                    >
                      Import
                    </button>
                  </div>
                </div>
              </div>
              <div class="box box--tiny" id="selectShortageBox">
                <div class="box__header">
                  <form class="was-validated">
                    <div class="form-check">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        id="selectShortage"
                        required
                        onclick="check_box_visibility('shortage');refreshBlocksOnDiagram('shortage');"
                      />
                      <label class="form-check-label" for="selectShortage"
                        >Shortage</label
                      >
                    </div>
                  </form>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblShortageMaxTotal" class="input-group-text"
                      >Maximum Total Shortage</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="shortageMaxTotal"
                      value="10"
                      required
                      onChange="styleInformation('shortage');"
                    />
                    <span id="shortageMaxTotalUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblShortageMaxTimestep" class="input-group-text"
                      >Maximum Shortage Each Timestep</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="shortageMaxTimestep"
                      value="20"
                      required
                      onChange="styleInformation('shortage');"
                    />
                    <span id="shortageMaxTimestepUnit" class="input-group-text"
                      >%</span
                    >
                  </div>
                </div>
                <div class="row">
                  <div class="input-group">
                    <span id="lblShortagePenaltyCost" class="input-group-text"
                      >Shortage Penalty Cost</span
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="shortagePenaltyCost"
                      value="0.4"
                      required
                      onChange="styleInformation('shortage');"
                    />
                    <span id="shortagePenaltyCostUnit" class="input-group-text"
                      >USD/kWh</span
                    >
                  </div>
                </div>
                <!-- <div class="row">
                  <div class="col-2">
                    <div class="form-switch">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="constraintsMinResCheckbox"
                      />
                    </div>
                  </div>
                  <div class="col-10">
                    <div class="input-group">
                      <span class="input-group-text"
                        >Max. Surplus Electricity</span
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="constraintsMinRes"
                        value="50"
                        required
                      />
                      <span class="input-group-text">%</span>
                    </div>
                  </div>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="step-footer">
      <div>
        <div class="step-footer__left"></div>
        <div class="step-footer__center">
          <a
            class="btn btn--medium btn--hollow btn--previous"
            href="{{ url_for('grid_design')}}"
            >Previous
          </a>
          <a
            id="btnSimulate"
            class="btn btn--medium"
            href="{{ url_for('simulation_results')}}"
            onclick="optimization();"
            >Simulate
            <span
              id="spnSpinner"
              class="spinner-border spinner-border-sm"
              role="status"
              aria-hidden="true"
              style="display: none"
            ></span>
          </a>
        </div>
        <div class="step-footer__right"></div>
      </div>
    </footer>
  </body>

  <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"
  ></script>
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"></script>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
  <script src="https://unpkg.com/leaflet-geosearch@3.0.0/dist/geosearch.umd.js"></script>
  <script src="{{ url_for('static', path='js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', path='node_modules/aos/dist/aos.js') }}"></script>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="{{ url_for('static', path='js/energy-system-design.js') }}"></script>
  <script src="{{ url_for('static', path='js/interactions.js') }}"></script>
</html>
